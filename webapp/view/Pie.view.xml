<mvc:View controllerName="covid.covidpro.controller.Pie"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:viz="sap.viz.ui5.controls"
    xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds"
    xmlns:viz.data="sap.viz.ui5.data"
    height="100%">

    <Page id="pie" showNavButton="true" navButtonPress="Back">

        <content>

            <ObjectHeader id="_IDGenObjectHeader" 
                          title="COVIDâ€‘19 Trends Across Regions" />

            <viz:VizFrame id="idVizFramepie"
                          uiConfig="{applicationSet:'fiori'}"
                          height="400px"
                          width="100%"
                          vizType="pie">

                <viz:dataset>
                    <viz.data:FlattenedDataset id="_IDGenFlattenedDataset1" data="{/data/regional}">

                        <viz.data:dimensions>
                            <viz.data:DimensionDefinition id="_IDGenDimensionDefinition1" 
                                name="Region"
                                value="{loc}" />
                        </viz.data:dimensions>

                        <viz.data:measures>
                            <viz.data:MeasureDefinition id="_IDGenMeasureDefinition1" 
                                name="Total Confirmed"
                                value="{totalConfirmed}" />
                        </viz.data:measures>

                    </viz.data:FlattenedDataset>
                </viz:dataset>

                <viz:feeds>
                    <viz.feeds:FeedItem id="_IDGenFeedItem1" 
                        uid="size" 
                        type="Measure" 
                        values="Total Confirmed" />

                    <viz.feeds:FeedItem id="_IDGenFeedItem2" 
                        uid="color" 
                        type="Dimension" 
                        values="Region" />
                </viz:feeds>

            </viz:VizFrame>
            
            <viz:Popover id="idPopOverpie" />

        </content>

    </Page>
</mvc:View>